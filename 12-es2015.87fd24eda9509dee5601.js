(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"6JgD":function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));var o=a("fXoL"),i=a("bv9b");let r=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Kb({type:t,selectors:[["vex-loading"]],decls:1,vars:1,consts:[[3,"mode"]],template:function(t,e){1&t&&o.Rb(0,"mat-progress-bar",0),2&t&&o.oc("mode","indeterminate")},directives:[i.a],styles:[".mat-progress-bar{width:100%}"],encapsulation:2}),t})()},"7lCJ":function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));var o=a("ofXK"),i=a("fXoL");let r=(()=>{class t{}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)},imports:[[o.c]]}),t})()},C0s9:function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));var o=a("fXoL");let i=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=o.Lb({type:t,selectors:[["","vexPageLayoutContent",""],["vex-page-layout-content"]],hostAttrs:[1,"vex-page-layout-content"]}),t})()},J0XA:function(t,e,a){"use strict";a.d(e,"a",(function(){return l}));var o=a("ofXK"),i=a("tyNb"),r=a("NFeN"),n=a("YUcS"),c=a("VX/1"),s=a("fXoL");let l=(()=>{class t{}return t.\u0275mod=s.Ob({type:t}),t.\u0275inj=s.Nb({factory:function(e){return new(e||t)},imports:[[o.c,i.j,r.b,n.a,c.b]]}),t})()},LazK:function(t,e,a){"use strict";a.d(e,"a",(function(){return c}));var o=a("IRgW"),i=a("lJxs"),r=a("fXoL"),n=a("tk/3");let c=(()=>{class t extends o.a{constructor(t){super(),this.http=t}index(t){return this.getQuery("categorias",t)}show(t,e){return this.getQuery(`categorias/${t}`,e)}create(t){return this.postQuery("categorias",t).pipe(Object(i.a)(t=>t))}update(t,e){return this.putQuery(`categorias/${t}`,e).pipe(Object(i.a)(t=>t))}delete(t,e){return this.deleteQuery(`categorias/${t}`,e).pipe(Object(i.a)(t=>t))}}return t.\u0275fac=function(e){return new(e||t)(r.ac(n.b))},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},YioD:function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));var o=a("ofXK"),i=a("cc8n"),r=a("iWjc"),n=a("iTUp"),c=a("fXoL");let s=(()=>{class t{}return t.\u0275mod=c.Ob({type:t}),t.\u0275inj=c.Nb({factory:function(e){return new(e||t)},imports:[[o.c,i.a,n.a,r.a]]}),t})()},Z998:function(t,e,a){"use strict";a.d(e,"a",(function(){return p}));var o=a("CwgZ"),i=a.n(o),r=a("zK3P"),n=a("fXoL");const c=["*"];let s=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Kb({type:t,selectors:[["vex-breadcrumb"]],hostAttrs:[1,"vex-breadcrumb","body-2","text-hint","leading-none","hover:text-primary","no-underline","trans-ease-out","ltr:mr-2","rtl:ml-2"],ngContentSelectors:c,decls:1,vars:0,template:function(t,e){1&t&&(n.nc(),n.mc(0))},encapsulation:2}),t})();var l=a("tyNb"),b=a("VX/1"),u=a("ofXK");const d=function(){return[]};function g(t,e){if(1&t&&(n.Ub(0),n.Rb(1,"div",4),n.Wb(2,"vex-breadcrumb"),n.Wb(3,"a",1),n.Gc(4),n.Vb(),n.Vb(),n.Tb()),2&t){const t=e.$implicit;n.Cb(3),n.oc("routerLink",n.pc(2,d)),n.Cb(1),n.Hc(t)}}const m=function(){return["/"]};let p=(()=>{class t{constructor(){this.crumbs=[],this.trackByValue=r.c,this.icHome=i.a}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Kb({type:t,selectors:[["vex-breadcrumbs"]],inputs:{crumbs:"crumbs"},decls:5,vars:5,consts:[[1,"flex","items-center"],[3,"routerLink"],["inline","true","size","20px",3,"icon"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"w-1","h-1","bg-gray","rounded-full","ltr:mr-2","rtl:ml-2"]],template:function(t,e){1&t&&(n.Wb(0,"div",0),n.Wb(1,"vex-breadcrumb"),n.Wb(2,"a",1),n.Rb(3,"ic-icon",2),n.Vb(),n.Vb(),n.Ec(4,g,5,3,"ng-container",3),n.Vb()),2&t&&(n.Cb(2),n.oc("routerLink",n.pc(4,m)),n.Cb(1),n.oc("icon",e.icHome),n.Cb(1),n.oc("ngForOf",e.crumbs)("ngForTrackBy",e.trackByValue))},directives:[s,l.i,b.a,u.o],encapsulation:2}),t})()},ZuBe:function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));var o=a("fXoL");const i=["*"];let r=(()=>{class t{constructor(){this.mode="simple"}get isCard(){return"card"===this.mode}get isSimple(){return"simple"===this.mode}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Kb({type:t,selectors:[["vex-page-layout"]],hostAttrs:[1,"vex-page-layout"],hostVars:4,hostBindings:function(t,e){2&t&&o.Gb("vex-page-layout-card",e.isCard)("vex-page-layout-simple",e.isSimple)},inputs:{mode:"mode"},ngContentSelectors:i,decls:1,vars:0,template:function(t,e){1&t&&(o.nc(),o.mc(0))},styles:[".vex-page-layout{display:block}.vex-page-layout-simple .vex-page-layout-content{padding-bottom:var(--padding-gutter);padding-top:var(--padding-gutter)}.vex-page-layout-card{padding-bottom:var(--padding)}.vex-page-layout-card .vex-page-layout-header{margin-bottom:calc(var(--page-layout-toolbar-height)*-1);padding-bottom:var(--page-layout-toolbar-height)}.vex-page-layout-card .vex-page-layout-content>*>.mat-tab-group .mat-tab-label,.vex-page-layout-card .vex-page-layout-content>.mat-tab-group .mat-tab-label{height:var(--page-layout-toolbar-height)}.vex-page-layout-card .vex-page-layout-content>*>.mat-tab-group .mat-tab-label.mat-tab-label-active,.vex-page-layout-card .vex-page-layout-content>.mat-tab-group .mat-tab-label.mat-tab-label-active{opacity:1}.vex-page-layout-header{align-items:center;background-color:rgb(var(--color-primary));color:rgb(var(--color-primary-contrast));box-sizing:content-box!important;display:flex;flex-direction:row;height:calc(var(--page-layout-header-height) - var(--page-layout-toolbar-height));padding-left:var(--padding);padding-right:var(--padding);place-content:center flex-start}.vex-page-layout-header .vex-breadcrumb{color:rgb(var(--color-primary-contrast));opacity:.5}.vex-page-layout-header .vex-breadcrumb:hover{color:rgb(var(--color-primary-contrast));opacity:1}.vex-page-layout-content{box-sizing:border-box;display:block;padding-left:var(--padding-gutter);padding-right:var(--padding-gutter)}"],encapsulation:2}),t})()},e3EN:function(t,e){e.__esModule=!0,e.default={body:'<path opacity=".3" d="M8 9h8v10H8z" fill="currentColor"/><path d="M15.5 4l-1-1h-5l-1 1H5v2h14V4zM6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9z" fill="currentColor"/>',width:24,height:24}},iWjc:function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));var o=a("3Pt+"),i=a("ofXK"),r=a("VX/1"),n=a("cc8n"),c=a("fXoL");let s=(()=>{class t{}return t.\u0275mod=c.Ob({type:t}),t.\u0275inj=c.Nb({factory:function(e){return new(e||t)},imports:[[n.a,o.k,o.t,i.c,r.b],o.k,o.t,i.c,r.b]}),t})()},pN9m:function(t,e){e.__esModule=!0,e.default={body:'<path opacity=".3" d="M5 18.08V19h.92l9.06-9.06l-.92-.92z" fill="currentColor"/><path d="M20.71 7.04a.996.996 0 0 0 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29s-.51.1-.7.29l-1.83 1.83l3.75 3.75l1.83-1.83zM3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM5.92 19H5v-.92l9.06-9.06l.92.92L5.92 19z" fill="currentColor"/>',width:24,height:24}},pvZx:function(t,e,a){"use strict";a.r(e),a.d(e,"CategoriaModule",(function(){return Ot}));var o=a("tyNb"),i=a("3Pt+"),r=a("Kj3r"),n=a("vkgz"),c=a("eIep"),s=a("nYR2"),l=a("pN9m"),b=a.n(l),u=a("e3EN"),d=a.n(u),g=a("5mnX"),m=a.n(g),p=a("0IaG"),f=a("fXoL"),h=a("LazK"),C=a("ofXK"),v=a("6JgD"),x=a("XiUz"),y=a("/t3+"),w=a("bTqV"),V=a("Qu3c"),W=a("NFeN"),S=a("VX/1");function R(t,e){1&t&&f.Rb(0,"vex-loading")}function I(t,e){if(1&t){const t=f.Xb();f.Wb(0,"div"),f.Wb(1,"div",1),f.Wb(2,"mat-toolbar",2),f.Wb(3,"h2",3),f.Gc(4),f.Vb(),f.Wb(5,"button",4),f.ec("click",(function(){return f.wc(t),f.ic().matDialogRef.close("delete")})),f.Rb(6,"mat-icon",5),f.Vb(),f.Wb(7,"button",6),f.ec("click",(function(){return f.wc(t),f.ic().matDialogRef.close("edit")})),f.Rb(8,"mat-icon",5),f.Vb(),f.Wb(9,"button",7),f.Rb(10,"mat-icon",5),f.Vb(),f.Vb(),f.Vb(),f.Wb(11,"mat-dialog-content",8),f.Wb(12,"div",9),f.Wb(13,"div",10),f.Gc(14,"C\xf3digo"),f.Vb(),f.Wb(15,"div",11),f.Gc(16),f.Vb(),f.Vb(),f.Wb(17,"div",9),f.Wb(18,"div",10),f.Gc(19,"Nombre"),f.Vb(),f.Wb(20,"div",11),f.Gc(21),f.Vb(),f.Vb(),f.Vb(),f.Wb(22,"mat-dialog-actions",12),f.Wb(23,"button",13),f.Gc(24," CERRAR "),f.Vb(),f.Vb(),f.Vb()}if(2&t){const t=f.ic();f.Cb(4),f.Hc(t.categoria.nombre),f.Cb(2),f.oc("icIcon",t.icDelete),f.Cb(2),f.oc("icIcon",t.icEdit),f.Cb(2),f.oc("icIcon",t.icClose),f.Cb(6),f.Hc(t.categoria.codigo),f.Cb(5),f.Hc(t.categoria.nombre)}}let L=(()=>{class t{constructor(t,e,a){this.data=t,this.matDialogRef=e,this._categoriaService=a,this.icEdit=b.a,this.icDelete=d.a,this.icClose=m.a,this.dialogTitle=t.dialogTitle,this.show()}ngOnInit(){}show(){this.loading=!0,this._categoriaService.show(this.data.idcategoria).subscribe(t=>{this.categoria=t.data,this.loading=!1},t=>{this.loading=!1})}}return t.\u0275fac=function(e){return new(e||t)(f.Qb(p.a),f.Qb(p.g),f.Qb(h.a))},t.\u0275cmp=f.Kb({type:t,selectors:[["vex-categoria-show"]],decls:2,vars:2,consts:[[4,"ngIf"],["mat-dialog-title","","fxLayout","column"],["color","primary","fxLayout","row","fxLayoutAlign","start center"],["fxFlex","auto",1,"headline","m-0"],["mat-icon-button","","type","button","matTooltip","Eliminar",1,"text-secondary",3,"click"],[3,"icIcon"],["mat-icon-button","","type","button","matTooltip","Editar",1,"text-secondary",3,"click"],["mat-dialog-close","","mat-icon-button","","type","button","matTooltip","Cerrar",1,"text-secondary"],["fxLayout","column"],["fxLayout","row","fxLayout.xs","column","fxLayoutAlign","start start"],["fxFlex","20",1,"font-weight-700"],["fxFlex","80"],["align","end"],["mat-button","","mat-dialog-close","","aria-label","CERRAR"]],template:function(t,e){1&t&&(f.Ec(0,R,1,0,"vex-loading",0),f.Ec(1,I,25,6,"div",0)),2&t&&(f.oc("ngIf",e.loading),f.Cb(1),f.oc("ngIf",!e.loading))},directives:[C.p,v.a,p.h,x.c,y.a,x.b,x.a,w.b,V.a,W.a,S.a,p.d,p.e,p.c],styles:["@media (min-width:600px){.categoria-show-dialog{width:100%}}@media (min-width:960px){.categoria-show-dialog{width:400px}}.categoria-show-dialog .mat-dialog-container{padding:0;margin:0}.categoria-show-dialog .mat-dialog-content{padding:0 16px;margin:0}.categoria-show-dialog .mat-dialog-actions{padding:16px 24px;margin:0}"],encapsulation:2}),t})();var k=a("7wwx"),D=a.n(k),E=a("pI64"),z=a.n(E),G=a("dNgK"),F=a("YMqD"),X=a("kmnG"),A=a("qFsG");const N=["codigo"];function O(t,e){1&t&&f.Rb(0,"vex-loading")}function _(t,e){1&t&&(f.Wb(0,"mat-error"),f.Gc(1," Es requerido "),f.Vb())}function T(t,e){1&t&&(f.Wb(0,"mat-error"),f.Gc(1," Es requerido "),f.Vb())}function j(t,e){if(1&t){const t=f.Xb();f.Wb(0,"form",2),f.ec("ngSubmit",(function(){return f.wc(t),f.ic().save()})),f.Wb(1,"div",3),f.Wb(2,"mat-toolbar",4),f.Wb(3,"h2",5),f.Gc(4),f.Vb(),f.Wb(5,"button",6),f.Rb(6,"mat-icon",7),f.Vb(),f.Vb(),f.Vb(),f.Wb(7,"mat-dialog-content",8),f.Wb(8,"div",9),f.Wb(9,"mat-form-field",10),f.Wb(10,"mat-label"),f.Gc(11,"C\xf3digo"),f.Vb(),f.Rb(12,"input",11,12),f.Wb(14,"mat-hint",13),f.Gc(15),f.Vb(),f.Ec(16,_,2,0,"mat-error",0),f.Vb(),f.Vb(),f.Wb(17,"div",9),f.Wb(18,"mat-form-field",14),f.Wb(19,"mat-label"),f.Gc(20,"Descripci\xf3n"),f.Vb(),f.Rb(21,"input",15,16),f.Wb(23,"mat-hint",13),f.Gc(24),f.Vb(),f.Ec(25,T,2,0,"mat-error",0),f.Vb(),f.Vb(),f.Vb(),f.Wb(26,"mat-dialog-actions",13),f.Wb(27,"button",17),f.Gc(28,"CERRAR"),f.Vb(),f.Wb(29,"button",18),f.Gc(30,"GUARDAR"),f.Vb(),f.Vb(),f.Vb()}if(2&t){const t=f.uc(13),e=f.uc(22),a=f.ic();f.oc("formGroup",a.categoriaForm),f.Cb(4),f.Hc(a.dialogTitle),f.Cb(2),f.oc("icIcon",a.icClose),f.Cb(9),f.Ic("",(null==t.value?null:t.value.length)||0,"/12"),f.Cb(1),f.oc("ngIf",a.categoriaForm.get("codigo").hasError("required")),f.Cb(8),f.Ic("",(null==e.value?null:e.value.length)||0,"/50"),f.Cb(1),f.oc("ngIf",a.categoriaForm.get("nombre").hasError("required")),f.Cb(4),f.oc("disabled",a.categoriaForm.invalid||a.submitted)}}let H=(()=>{class t{constructor(t,e,a,o,i){this._data=t,this.matDialogRef=e,this.snackBar=a,this._categoriaService=o,this._utils=i,this.submitted=!1,this.loading=!1,this.icClose=m.a,this.icAdd=D.a,this.icDelete=d.a,this.icCallMade=z.a,this.action=t.action,this.dialogTitle=t.dialogTitle,"edit"===this.action&&this.show()}ngOnInit(){this.categoriaForm=this.createForm(),"new"===this.action&&setTimeout(()=>{this.codigoElement.nativeElement.focus()},0)}show(){this.loading=!0,this._categoriaService.show(this._data.idcategoria).subscribe(t=>{this.loading=!1,this.inicializarCategoria(t.data)})}inicializarCategoria(t){this.categoriaForm.setValue({idcategoria:t.idcategoria,codigo:t.codigo,nombre:t.nombre})}createForm(){return new i.h({idcategoria:new i.e(""),codigo:new i.e("",[i.v.required]),nombre:new i.e("",[i.v.required])})}save(){let t;t=this.categoriaForm.getRawValue(),"new"===this.action&&(this.submitted=!0,this._categoriaService.create(t).subscribe(t=>{this.snackBar.open(`${t.data.nombre} creado.`,"Cerrar"),this.matDialogRef.close(t.data)},t=>{const e=this._utils.convertError(t);this.submitted=!1,this.snackBar.open(e,"Cerrar",{panelClass:["error-dialog"]})})),"edit"===this.action&&(this.submitted=!0,this._categoriaService.update(t.idcategoria,t).subscribe(t=>{this.snackBar.open(`${t.data.nombre} actualizado.`,"Cerrar"),this.matDialogRef.close(t.data)},t=>{const e=this._utils.convertError(t);this.submitted=!1,this.snackBar.open(e,"Cerrar",{panelClass:["error-dialog"]})}))}}return t.\u0275fac=function(e){return new(e||t)(f.Qb(p.a),f.Qb(p.g),f.Qb(G.b),f.Qb(h.a),f.Qb(F.a))},t.\u0275cmp=f.Kb({type:t,selectors:[["vex-categoria-form"]],viewQuery:function(t,e){var a;1&t&&f.Nc(N,!0),2&t&&f.tc(a=f.fc())&&(e.codigoElement=a.first)},decls:2,vars:2,consts:[[4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],["mat-dialog-title","","fxLayout","column"],["color","primary","fxLayout","row","fxLayoutAlign","start center"],["fxFlex","auto",1,"headline","m-0"],["mat-dialog-close","","mat-icon-button","","type","button",1,"text-secondary"],[3,"icIcon"],["fxLayout","column"],["fxLayout","row","fxLayout.lt-sm","column","fxLayoutGap","16px","fxLayoutGap.lt-sm","0"],["appearance","fill","fxFlex","auto","hintLabel","M\xe1ximo 12 caracteres"],["matInput","","formControlName","codigo","maxlength","12","required",""],["codigo",""],["align","end"],["appearance","fill","fxFlex","auto","hintLabel","M\xe1ximo 50 caracteres"],["matInput","","formControlName","nombre","maxlength","50","required",""],["nombre",""],["mat-button","","mat-dialog-close","","type","button"],["mat-raised-button","","type","submit","color","primary",3,"disabled"]],template:function(t,e){1&t&&(f.Ec(0,O,1,0,"vex-loading",0),f.Ec(1,j,31,8,"form",1)),2&t&&(f.oc("ngIf",e.loading),f.Cb(1),f.oc("ngIf",!e.loading))},directives:[C.p,v.a,i.w,i.q,i.i,p.h,x.c,y.a,x.b,x.a,w.b,p.d,W.a,S.a,p.e,x.d,X.d,X.h,A.b,i.b,i.p,i.g,i.l,i.u,X.g,p.c,X.c],styles:["@media (min-width:960px){.categoria-form-dialog{width:400px}}.categoria-form-dialog .mat-dialog-container{padding:0;margin:0}.categoria-form-dialog .mat-dialog-content{padding:0 16px;margin:0}.categoria-form-dialog .mat-dialog-actions{padding:16px 24px;margin:0}"],encapsulation:2}),t})();var M=a("sF+I"),Q=a.n(M),B=a("uQ9D"),K=a.n(B),$=a("+tDV"),q=a.n($),U=a("p+k2"),J=a.n(U),P=a("6p83"),Z=a("+0xr"),Y=a("ZuBe"),tt=a("uwSD"),et=a("Z998"),at=a("znSr"),ot=a("C0s9"),it=a("/1cH"),rt=a("Dh3D"),nt=a("M9IT"),ct=a("FKr1"),st=a("Xa2L");const lt=["pagCategoria"],bt=["sortCategoria"];function ut(t,e){if(1&t){const t=f.Xb();f.Wb(0,"mat-option",37),f.ec("keyup.enter",(function(){return f.wc(t),f.ic().index(!0)})),f.Rb(1,"mat-spinner",38),f.Vb()}}function dt(t,e){if(1&t&&(f.Wb(0,"mat-option",42),f.Wb(1,"span",43),f.Gc(2),f.Vb(),f.Vb()),2&t){const t=e.$implicit;f.oc("value",t),f.Cb(2),f.Hc(t.nombre)}}function gt(t,e){if(1&t&&(f.Ub(0),f.Ec(1,dt,3,2,"mat-option",39),f.Wb(2,"div",40),f.Wb(3,"p",41),f.Gc(4),f.Vb(),f.Vb(),f.Tb()),2&t){const t=f.ic();f.Cb(1),f.oc("ngForOf",t.searchResult.data),f.Cb(3),f.Jc("Mostrando ",t.searchResult.to," de ",t.searchResult.total," resultados.")}}function mt(t,e){if(1&t&&(f.Wb(0,"button",44),f.Rb(1,"mat-icon",45),f.Vb()),2&t){const t=f.ic();f.Cb(1),f.oc("icIcon",t.icSearch)}}function pt(t,e){if(1&t){const t=f.Xb();f.Wb(0,"button",46),f.ec("click",(function(){f.wc(t);const e=f.ic();return e.categoria.setValue(""),e.index(!0)})),f.Rb(1,"mat-icon",45),f.Vb()}if(2&t){const t=f.ic();f.Cb(1),f.oc("icIcon",t.icClose)}}function ft(t,e){1&t&&(f.Wb(0,"div",47),f.Rb(1,"mat-spinner"),f.Vb())}function ht(t,e){1&t&&(f.Wb(0,"th",48),f.Gc(1,"C\xd3DIGO"),f.Vb())}function Ct(t,e){if(1&t&&(f.Wb(0,"td",49),f.Gc(1),f.Vb()),2&t){const t=e.$implicit;f.Cb(1),f.Ic(" ",t.codigo,"")}}function vt(t,e){1&t&&(f.Wb(0,"th",48),f.Gc(1,"DESCRIPCI\xd3N"),f.Vb())}function xt(t,e){if(1&t&&(f.Wb(0,"td",49),f.Gc(1),f.Vb()),2&t){const t=e.$implicit;f.Cb(1),f.Ic(" ",t.nombre,"")}}function yt(t,e){1&t&&(f.Wb(0,"th",50),f.Gc(1," ACCIONES "),f.Vb())}function wt(t,e){if(1&t){const t=f.Xb();f.Wb(0,"td",51),f.Wb(1,"div",52),f.Wb(2,"button",53),f.ec("click",(function(a){f.wc(t);const o=e.$implicit,i=f.ic();return a.stopPropagation(),i.deleteCategoria(o)})),f.Rb(3,"mat-icon",54),f.Vb(),f.Wb(4,"button",55),f.ec("click",(function(a){f.wc(t);const o=e.$implicit,i=f.ic();return a.stopPropagation(),i.editCategoria(o.idcategoria)})),f.Rb(5,"mat-icon",54),f.Vb(),f.Vb(),f.Vb()}if(2&t){const t=f.ic();f.Cb(3),f.oc("icIcon",t.icDelete),f.Cb(2),f.oc("icIcon",t.icEdit)}}function Vt(t,e){1&t&&(f.Wb(0,"mat-footer-cell"),f.Gc(1," No hay registros. "),f.Vb())}function Wt(t,e){1&t&&f.Rb(0,"tr",56)}function St(t,e){if(1&t){const t=f.Xb();f.Wb(0,"tr",57),f.ec("click",(function(){f.wc(t);const a=e.$implicit;return f.ic().showCategoria(a)})),f.Vb()}}const Rt=function(t){return{hide:t}};function It(t,e){if(1&t&&f.Rb(0,"tr",58),2&t){const t=f.ic();f.oc("ngClass",f.qc(1,Rt,t.rLengthCategoria>0||t.loadCategoria))}}const Lt=function(){return["Categorias"]},kt=function(){return["empty"]};let Dt=(()=>{class t{constructor(t,e,a,o){this._matDialog=t,this._categoriaService=e,this._utils=a,this.snackBar=o,this.dcCategoria=["acciones","codigo","nombre"],this.dsCategoria=new Z.o,this.loadCategoria=!0,this.rLengthCategoria=0,this.pSizeCategoria=50,this.pSizeOptCategoria=[10,20,50],this.categoria=new i.e,this.isLoadingSearch=!1,this.searchResult={data:null,to:null,total:null},this.nombre="",this.destacado="",this.icSearch=Q.a,this.icAdd=D.a,this.icEdit=b.a,this.icDelete=d.a,this.icClose=m.a,this.icVisibility=K.a,this.icCheckBoxOutlineBlank=J.a,this.icCheck=q.a}ngOnInit(){this.categoria.valueChanges.pipe(Object(r.a)(300),Object(n.a)(()=>this.isLoadingSearch=!0),Object(c.a)(t=>{if(""===t&&this.index(!0),t&&"string"==typeof t){const e={page:1,pageSize:10,orderName:"nombre",orderSort:"asc"};return e.likeNombre=t,this._categoriaService.index(e).pipe(Object(s.a)(()=>this.isLoadingSearch=!1))}return this.isLoadingSearch=!1,[]})).subscribe(t=>{this.searchResult=t}),this.sortCategoria.sortChange.subscribe(()=>{this.pagCategoria.pageIndex=0,this.index()}),this.pagCategoria.page.subscribe(()=>{this.index()}),this.index()}index(t){t&&(this.pagCategoria.pageIndex=0);const e={page:this.pagCategoria.pageSize?this.pagCategoria.pageIndex+1:1,pageSize:this.pagCategoria.pageSize?this.pagCategoria.pageSize:this.pSizeCategoria,orderName:this.sortCategoria.active?this.sortCategoria.active:"nombre",orderSort:this.sortCategoria.direction?this.sortCategoria.direction:"asc"};this.categoria.value&&(e.idcategoria=this.categoria.value.idcategoria),this.nombre&&(e.likeNombre=this.nombre),this.loadCategoria=!0,this._categoriaService.index(e).subscribe(t=>{this.dsCategoria.data=t.data,this.loadCategoria=!1,this.rLengthCategoria=t.total},t=>{})}newCategoria(){this.dialogRef=this._matDialog.open(H,{panelClass:"categoria-form-dialog",data:{action:"new",dialogTitle:"Nueva categoria"},autoFocus:!1}),this.dialogRef.afterClosed().subscribe(t=>{t&&this.index()})}editCategoria(t){console.log("id",t),this.dialogRef=this._matDialog.open(H,{panelClass:"categoria-form-dialog",data:{action:"edit",dialogTitle:"Editar categoria",idcategoria:t},autoFocus:!1}),this.dialogRef.afterClosed().subscribe(t=>{t&&this.index()})}deleteCategoria(t){const e=this._matDialog.open(P.a,{panelClass:"confirmacion-dialog",disableClose:!1});e.componentInstance.confirmMessage=`\xbfEstas seguro de eliminar "${t.nombre}"?`,e.afterClosed().subscribe(e=>{e&&(this.snackBar.open("Procesando...","Cerrar"),this._categoriaService.delete(t.idcategoria).subscribe(t=>{this.snackBar.open(`"${t.data.nombre}" eliminado.`,"Cerrar"),this.index()},t=>{const e=this._utils.convertError(t);this.snackBar.open(e,"Cerrar",{panelClass:["error-dialog"]})}))})}showCategoria(t){this.dialogRef=this._matDialog.open(L,{panelClass:"categoria-show-dialog",data:{dialogTitle:"Local",idcategoria:t.idcategoria}}),this.dialogRef.afterClosed().subscribe(e=>{e&&("edit"===e&&this.editCategoria(t.idcategoria),"delete"===e&&this.deleteCategoria(t),"refresh"===e&&this.index(!0))})}displaySearchCategoria(t){return t?t.nombre:null}}return t.\u0275fac=function(e){return new(e||t)(f.Qb(p.b),f.Qb(h.a),f.Qb(F.a),f.Qb(G.b))},t.\u0275cmp=f.Kb({type:t,selectors:[["vex-categoria"]],viewQuery:function(t,e){var a;1&t&&(f.Cc(lt,!0),f.Cc(bt,!0)),2&t&&(f.tc(a=f.fc())&&(e.pagCategoria=a.first),f.tc(a=f.fc())&&(e.sortCategoria=a.first))},decls:46,vars:20,consts:[["fxLayout","column","fxLayoutAlign","center start",1,"pb-16"],[1,"w-full","flex","flex-col","sm:flex-row","justify-between","px-gutter"],[1,"title","mt-0","mb-1"],[3,"crumbs"],["mat-raised-button","","type","button","fxHide","","fxShow.gt-xs","",3,"click"],[3,"icIcon"],["mat-icon-button","","type","button","fxShow","","fxHide.gt-xs","",3,"click"],[1,"-mt-6","px-gutter"],[1,"card","overflow-auto","-mt-16"],["fxLayout","row","fxLayoutAlign","start center",1,"bg-app-bar","px-6","h-16","border-b","sticky","left-0"],["fxFlex","400px","fxFlex.lt-md","auto","fxHide.xs","","fxLayout","row","fxLayoutAlign","start center",1,"bg-card","rounded-full","border","px-4"],["matInput","","placeholder","Buscar nombre",1,"px-4","py-3","border-0","outline-none","w-full","bg-transparent",3,"matAutocomplete","formControl"],["nombreERef",""],["autoActiveFirstOption","",3,"displayWith","optionSelected"],["auto","matAutocomplete"],[3,"keyup.enter",4,"ngIf"],[4,"ngIf"],["mat-icon-button","","matSuffix","","type","button",4,"ngIf"],["mat-icon-button","","matSuffix","","type","button",3,"click",4,"ngIf"],[1,"loading-container"],["class","loading-shade",4,"ngIf"],["mat-table","","matSort","","matSortActive","nombre","matSortDisableClear","","matSortDirection","asc",1,"w-full",3,"dataSource"],["table","","sortCategoria","matSort"],["matColumnDef","codigo"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cel","",4,"matCellDef"],["matColumnDef","nombre"],["matColumnDef","acciones"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","empty"],[4,"matFooterCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","hover:bg-hover trans-ease-out cursor-pointer","mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",3,"ngClass",4,"matFooterRowDef"],[3,"length","pageSizeOptions","pageSize"],["pagCategoria",""],[3,"keyup.enter"],["diameter","50"],[3,"value",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","end center"],[1,"p-2"],[3,"value"],[1,"body-1"],["mat-icon-button","","matSuffix","","type","button"],["size","20px",3,"icIcon"],["mat-icon-button","","matSuffix","","type","button",3,"click"],[1,"loading-shade"],["mat-header-cell","","mat-sort-header",""],["mat-cel",""],["mat-header-cell",""],["mat-cell",""],["fxLayout","row","fxLayoutAlign","center center"],["type","button","mat-icon-button","",1,"w-8","h-8","leading-none","flex","items-center","justify-center","hover:bg-hover",3,"click"],["size","18px",3,"icIcon"],["type","button","mat-icon-button","","matTooltip","Editar",1,"w-8","h-8","leading-none","flex","items-center","justify-center","ml-1","hover:bg-hover",3,"click"],["mat-header-row",""],["mat-row","",1,"hover:bg-hover","trans-ease-out","cursor-pointer",3,"click"],["mat-footer-row","",3,"ngClass"]],template:function(t,e){if(1&t&&(f.Wb(0,"vex-page-layout"),f.Wb(1,"vex-page-layout-header",0),f.Wb(2,"div",1),f.Wb(3,"div"),f.Wb(4,"h1",2),f.Gc(5,"Categorias de productos"),f.Vb(),f.Rb(6,"vex-breadcrumbs",3),f.Vb(),f.Wb(7,"div"),f.Wb(8,"button",4),f.ec("click",(function(){return e.newCategoria()})),f.Rb(9,"mat-icon",5),f.Gc(10," Nuevo "),f.Vb(),f.Wb(11,"button",6),f.ec("click",(function(){return e.newCategoria()})),f.Rb(12,"mat-icon",5),f.Vb(),f.Vb(),f.Vb(),f.Vb(),f.Wb(13,"vex-page-layout-content",7),f.Wb(14,"div",8),f.Wb(15,"div",9),f.Wb(16,"div",10),f.Rb(17,"input",11,12),f.Wb(19,"mat-autocomplete",13,14),f.ec("optionSelected",(function(){return e.index(!0)})),f.Ec(21,ut,2,0,"mat-option",15),f.Ec(22,gt,5,3,"ng-container",16),f.Vb(),f.Ec(23,mt,2,1,"button",17),f.Ec(24,pt,2,1,"button",18),f.Vb(),f.Vb(),f.Wb(25,"div",19),f.Ec(26,ft,2,0,"div",20),f.Wb(27,"table",21,22),f.Ub(30,23),f.Ec(31,ht,2,0,"th",24),f.Ec(32,Ct,2,1,"td",25),f.Tb(),f.Ub(33,26),f.Ec(34,vt,2,0,"th",24),f.Ec(35,xt,2,1,"td",25),f.Tb(),f.Ub(36,27),f.Ec(37,yt,2,0,"th",28),f.Ec(38,wt,6,2,"td",29),f.Tb(),f.Ub(39,30),f.Ec(40,Vt,2,0,"mat-footer-cell",31),f.Tb(),f.Ec(41,Wt,1,0,"tr",32),f.Ec(42,St,1,0,"tr",33),f.Ec(43,It,1,3,"tr",34),f.Vb(),f.Rb(44,"mat-paginator",35,36),f.Vb(),f.Vb(),f.Vb(),f.Vb()),2&t){const t=f.uc(20);f.Cb(6),f.oc("crumbs",f.pc(18,Lt)),f.Cb(3),f.oc("icIcon",e.icAdd),f.Cb(3),f.oc("icIcon",e.icAdd),f.Cb(5),f.oc("matAutocomplete",t)("formControl",e.categoria),f.Cb(2),f.oc("displayWith",e.displaySearchCategoria),f.Cb(2),f.oc("ngIf",e.isLoadingSearch),f.Cb(1),f.oc("ngIf",!e.isLoadingSearch),f.Cb(1),f.oc("ngIf",!e.categoria.value),f.Cb(1),f.oc("ngIf",e.categoria.value),f.Cb(2),f.oc("ngIf",e.loadCategoria),f.Cb(1),f.oc("dataSource",e.dsCategoria),f.Cb(14),f.oc("matHeaderRowDef",e.dcCategoria),f.Cb(1),f.oc("matRowDefColumns",e.dcCategoria),f.Cb(1),f.oc("matFooterRowDef",f.pc(19,kt)),f.Cb(1),f.oc("length",e.rLengthCategoria)("pageSizeOptions",e.pSizeOptCategoria)("pageSize",e.pSizeCategoria)}},directives:[Y.a,tt.a,x.c,x.b,et.a,w.b,at.b,W.a,S.a,ot.a,x.a,A.b,it.c,i.b,i.p,i.f,it.a,C.p,Z.n,rt.a,Z.c,Z.i,Z.b,Z.e,Z.k,Z.m,Z.g,nt.a,ct.n,st.b,C.o,X.j,Z.h,rt.b,Z.a,V.a,Z.d,Z.j,Z.l,Z.f,C.m,at.a],styles:["vex-categoria .loading-container{position:relative}vex-categoria .loading-shade{position:absolute;top:0;left:0;bottom:56px;right:0;background:rgba(0,0,0,.15);z-index:1;display:flex;align-items:center;justify-content:center}vex-categoria .hide{display:none}"],encapsulation:2}),t})();var Et=a("iWjc"),zt=a("iTUp"),Gt=a("cc8n"),Ft=a("YioD"),Xt=a("7lCJ"),At=a("J0XA");const Nt=[{path:"**",component:Dt}];let Ot=(()=>{class t{}return t.\u0275mod=f.Ob({type:t}),t.\u0275inj=f.Nb({factory:function(e){return new(e||t)},imports:[[o.j.forChild(Nt),Et.a,zt.a,Gt.a,Ft.a,Xt.a,At.a]]}),t})()},uQ9D:function(t,e){e.__esModule=!0,e.default={body:'<path opacity=".3" d="M12 6a9.77 9.77 0 0 0-8.82 5.5C4.83 14.87 8.21 17 12 17s7.17-2.13 8.82-5.5A9.77 9.77 0 0 0 12 6zm0 10c-2.48 0-4.5-2.02-4.5-4.5S9.52 7 12 7s4.5 2.02 4.5 4.5S14.48 16 12 16z" fill="currentColor"/><path d="M12 4C7 4 2.73 7.11 1 11.5C2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4zm0 13a9.77 9.77 0 0 1-8.82-5.5C4.83 8.13 8.21 6 12 6s7.17 2.13 8.82 5.5A9.77 9.77 0 0 1 12 17zm0-10c-2.48 0-4.5 2.02-4.5 4.5S9.52 16 12 16s4.5-2.02 4.5-4.5S14.48 7 12 7zm0 7a2.5 2.5 0 0 1 0-5a2.5 2.5 0 0 1 0 5z" fill="currentColor"/>',width:24,height:24}},uwSD:function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));var o=a("fXoL");let i=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=o.Lb({type:t,selectors:[["","vexPageLayoutHeader",""],["vex-page-layout-header"]],hostAttrs:[1,"vex-page-layout-header"]}),t})()}}]);