(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{GPUG:function(t,e,o){"use strict";o.d(e,"a",(function(){return s}));var i=o("tk/3"),a=o("IRgW"),r=(o("XNiG"),o("lJxs")),n=(o("0np6"),o("fXoL")),c=o("17qS");let s=(()=>{class t extends a.a{constructor(t,e){super(),this.http=t,this._subirArchivoService=e,console.log("ProductoService listo!")}index(t){return this.getQuery("productos",t)}show(t,e){return this.getQuery(`productos/${t}`,e)}create(t){return this.postQuery("productos",t).pipe(Object(r.a)(t=>t))}update(t,e){return this.putQuery(`productos/${t}`,e).pipe(Object(r.a)(t=>t))}delete(t,e){return this.deleteQuery(`productos/${t}`,e).pipe(Object(r.a)(t=>t.data))}updateImg(t,e){return this._subirArchivoService.subirArchivo(e,"/productos/subirimagen/"+t)}exportExcel(t){return this.postDownload("productos/export/excel",t)}exportTemplateExcel(){return this.postDownload("productos/plantilla/excel")}}return t.\u0275fac=function(e){return new(e||t)(n.ac(i.b),n.ac(c.a))},t.\u0275prov=n.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},Iab2:function(t,e,o){(function(o){var i,a;void 0===(a="function"==typeof(i=function(){"use strict";function e(t,e,o){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){n(i.response,e,o)},i.onerror=function(){console.error("could not download file")},i.send()}function i(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function a(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(e){var o=document.createEvent("MouseEvents");o.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(o)}}var r="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof o&&o.global===o?o:void 0,n=r.saveAs||("object"!=typeof window||window!==r?function(){}:"download"in HTMLAnchorElement.prototype?function(t,o,n){var c=r.URL||r.webkitURL,s=document.createElement("a");s.download=o=o||t.name||"download",s.rel="noopener","string"==typeof t?(s.href=t,s.origin===location.origin?a(s):i(s.href)?e(t,o,n):a(s,s.target="_blank")):(s.href=c.createObjectURL(t),setTimeout((function(){c.revokeObjectURL(s.href)}),4e4),setTimeout((function(){a(s)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,o,r){if(o=o||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,r),o);else if(i(t))e(t,o,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout((function(){a(n)}))}}:function(t,o,i,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),"string"==typeof t)return e(t,o,i);var n="application/octet-stream"===t.type,c=/constructor/i.test(r.HTMLElement)||r.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||n&&c)&&"object"==typeof FileReader){var d=new FileReader;d.onloadend=function(){var t=d.result;t=s?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=t:location=t,a=null},d.readAsDataURL(t)}else{var l=r.URL||r.webkitURL,u=l.createObjectURL(t);a?a.location=u:location.href=u,a=null,setTimeout((function(){l.revokeObjectURL(u)}),4e4)}});r.saveAs=n.saveAs=n,t.exports=n})?i.apply(e,[]):i)||(t.exports=a)}).call(this,o("yLpj"))},LazK:function(t,e,o){"use strict";o.d(e,"a",(function(){return c}));var i=o("IRgW"),a=o("lJxs"),r=o("fXoL"),n=o("tk/3");let c=(()=>{class t extends i.a{constructor(t){super(),this.http=t}index(t){return this.getQuery("categorias",t)}show(t,e){return this.getQuery(`categorias/${t}`,e)}create(t){return this.postQuery("categorias",t).pipe(Object(a.a)(t=>t))}update(t,e){return this.putQuery(`categorias/${t}`,e).pipe(Object(a.a)(t=>t))}delete(t,e){return this.deleteQuery(`categorias/${t}`,e).pipe(Object(a.a)(t=>t))}}return t.\u0275fac=function(e){return new(e||t)(r.ac(n.b))},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},dGNC:function(t,e,o){"use strict";o.d(e,"a",(function(){return dt}));var i=o("3Pt+"),a=o("5mnX"),r=o.n(a),n=o("sF+I"),c=o.n(n),s=o("LgSP"),d=o.n(s),l=o("R9fh"),u=o.n(l),b=o("Kj3r"),m=o("vkgz"),p=o("eIep"),f=o("nYR2"),g=o("0IaG"),h=o("fXoL"),v=o("GPUG"),V=o("g8hX"),W=o("LazK"),x=o("IRgW"),w=o("tk/3");let y=(()=>{class t extends x.a{constructor(t){super(),this.http=t}index(t){return this.getQuery("catalogos",t)}}return t.\u0275fac=function(e){return new(e||t)(h.ac(w.b))},t.\u0275prov=h.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var C=o("dNgK"),I=o("eUUZ"),G=o("YMqD"),L=o("yCEk"),S=o("ofXK"),R=o("6JgD"),E=o("XiUz"),F=o("/t3+"),k=o("bTqV"),O=o("NFeN"),T=o("VX/1"),A=o("wZkO"),_=o("kmnG"),j=o("qFsG"),q=o("d3UM"),Q=o("/1cH"),M=o("FKr1"),N=o("Xa2L");const U=["nombre"];function X(t,e){1&t&&h.Rb(0,"vex-loading")}function D(t,e){1&t&&(h.Wb(0,"mat-error"),h.Gc(1," Es requerido "),h.Vb())}function P(t,e){if(1&t&&(h.Wb(0,"mat-option",38),h.Gc(1),h.Vb()),2&t){const t=e.$implicit;h.oc("value",t.codigo),h.Cb(1),h.Jc(" ",t.codigo," - ",t.nombre," ")}}function B(t,e){1&t&&(h.Wb(0,"mat-error"),h.Gc(1," Es requerido "),h.Vb())}function $(t,e){1&t&&(h.Wb(0,"mat-error"),h.Gc(1," Es requerido "),h.Vb())}function H(t,e){if(1&t&&(h.Wb(0,"mat-option",38),h.Gc(1),h.Vb()),2&t){const t=e.$implicit;h.oc("value",t.idimpuesto),h.Cb(1),h.Ic(" ",t.nombre," ")}}function J(t,e){if(1&t&&(h.Wb(0,"mat-option",38),h.Gc(1),h.Vb()),2&t){const t=e.$implicit;h.oc("value",t.moneda),h.Cb(1),h.Ic(" ",t.nombre," ")}}function z(t,e){1&t&&(h.Wb(0,"mat-form-field",27),h.Wb(1,"mat-label"),h.Gc(2,"Valor venta"),h.Vb(),h.Rb(3,"input",39),h.Vb())}function K(t,e){1&t&&(h.Wb(0,"mat-form-field",27),h.Wb(1,"mat-label"),h.Gc(2,"Precio venta"),h.Vb(),h.Rb(3,"input",40),h.Vb())}function Y(t,e){if(1&t&&(h.Wb(0,"i"),h.Gc(1),h.Vb()),2&t){const t=h.ic(3);h.Cb(1),h.Ic(" (",t.productoForm.get("codigosunat").value,") ")}}function Z(t,e){1&t&&(h.Wb(0,"mat-option",41),h.Rb(1,"mat-spinner",42),h.Vb())}function tt(t,e){if(1&t&&(h.Wb(0,"mat-option",38),h.Wb(1,"div",45),h.Wb(2,"small"),h.Gc(3),h.Vb(),h.Wb(4,"div",46),h.Wb(5,"small",47),h.Gc(6),h.Vb(),h.Vb(),h.Vb(),h.Vb()),2&t){const t=e.$implicit;h.oc("value",t),h.Cb(3),h.Hc(t.nombre),h.Cb(3),h.Hc(t.codigo)}}function et(t,e){if(1&t&&(h.Ub(0),h.Ec(1,tt,7,3,"mat-option",22),h.Wb(2,"div",43),h.Wb(3,"small",44),h.Gc(4),h.Vb(),h.Vb(),h.Tb()),2&t){const t=h.ic(3);h.Cb(1),h.oc("ngForOf",t.searchResult.data),h.Cb(3),h.Jc("Mostrando ",t.searchResult.to," de ",t.searchResult.total," resultados.")}}function ot(t,e){if(1&t&&h.Rb(0,"mat-icon",48),2&t){const t=h.ic(3);h.oc("icIcon",t.icArrowDropDown)}}function it(t,e){if(1&t){const t=h.Xb();h.Wb(0,"mat-icon",49),h.ec("click",(function(){return h.wc(t),h.ic(3).catalogo.setValue("")})),h.Vb()}if(2&t){const t=h.ic(3);h.oc("icIcon",t.icClose)}}function at(t,e){if(1&t&&(h.Wb(0,"mat-option",38),h.Gc(1),h.Vb()),2&t){const t=e.$implicit;h.oc("value",t.idcategoria),h.Cb(1),h.Jc(" ",t.codigo," - ",t.nombre," ")}}function rt(t,e){if(1&t){const t=h.Xb();h.Wb(0,"div"),h.Wb(1,"div",17),h.Wb(2,"mat-form-field",18),h.Wb(3,"mat-label"),h.Gc(4,"Nombre"),h.Vb(),h.Rb(5,"input",19,20),h.Ec(7,D,2,0,"mat-error",0),h.Vb(),h.Vb(),h.Wb(8,"div",17),h.Wb(9,"mat-form-field",18),h.Wb(10,"mat-label"),h.Gc(11,"Medida"),h.Vb(),h.Wb(12,"mat-select",21),h.Ec(13,P,2,3,"mat-option",22),h.Vb(),h.Ec(14,B,2,0,"mat-error",0),h.Vb(),h.Wb(15,"mat-form-field",18),h.Wb(16,"mat-label"),h.Gc(17,"Sku (C\xf3digo \xfanico del producto/servicio)"),h.Vb(),h.Rb(18,"input",23),h.Ec(19,$,2,0,"mat-error",0),h.Vb(),h.Vb(),h.Wb(20,"div",17),h.Wb(21,"mat-form-field",24),h.Wb(22,"mat-label"),h.Gc(23,"Impuesto venta"),h.Vb(),h.Wb(24,"mat-select",25),h.Ec(25,H,2,2,"mat-option",22),h.Vb(),h.Vb(),h.Wb(26,"div",26),h.Wb(27,"mat-form-field",27),h.Wb(28,"mat-label"),h.Gc(29,"Moneda"),h.Vb(),h.Wb(30,"mat-select",28),h.Ec(31,J,2,2,"mat-option",22),h.Vb(),h.Vb(),h.Wb(32,"div",29),h.Ec(33,z,4,0,"mat-form-field",30),h.Ec(34,K,4,0,"mat-form-field",30),h.Vb(),h.Vb(),h.Vb(),h.Wb(35,"div",17),h.Wb(36,"mat-form-field",24),h.Wb(37,"mat-label"),h.Wb(38,"span"),h.Gc(39,"C\xf3digo Sunat"),h.Vb(),h.Ec(40,Y,2,1,"i",0),h.Vb(),h.Rb(41,"input",31),h.Wb(42,"mat-autocomplete",32,33),h.ec("optionSelected",(function(e){return h.wc(t),h.ic(2).autocompletadoCatalogoSelected(e.option.value)})),h.Ec(44,Z,2,0,"mat-option",34),h.Ec(45,et,5,3,"ng-container",0),h.Vb(),h.Ec(46,ot,1,1,"mat-icon",35),h.Ec(47,it,1,1,"mat-icon",36),h.Vb(),h.Wb(48,"mat-form-field",24),h.Wb(49,"mat-label"),h.Gc(50,"Categor\xeda"),h.Vb(),h.Wb(51,"mat-select",37),h.Wb(52,"mat-option"),h.Gc(53,"(Sin categoria)"),h.Vb(),h.Ec(54,at,2,3,"mat-option",22),h.Vb(),h.Vb(),h.Vb(),h.Vb()}if(2&t){const t=h.uc(43),e=h.ic(2);h.Cb(7),h.oc("ngIf",e.productoForm.get("nombre").hasError("required")),h.Cb(6),h.oc("ngForOf",e.unidadMedidas),h.Cb(1),h.oc("ngIf",e.productoForm.get("unidadmedida").hasError("required")),h.Cb(5),h.oc("ngIf",e.productoForm.get("codigo").hasError("required")),h.Cb(6),h.oc("ngForOf",e.impuestos),h.Cb(6),h.oc("ngForOf",e.monedas),h.Cb(2),h.oc("ngIf",!e.settings.preciounitario),h.Cb(1),h.oc("ngIf",e.settings.preciounitario),h.Cb(6),h.oc("ngIf",e.productoForm.get("codigosunat").value),h.Cb(1),h.oc("matAutocomplete",t)("formControl",e.catalogo),h.Cb(1),h.oc("displayWith",e.displaySearchCatalogo),h.Cb(2),h.oc("ngIf",e.isLoadingSearch),h.Cb(1),h.oc("ngIf",!e.isLoadingSearch),h.Cb(1),h.oc("ngIf",!e.catalogo.value),h.Cb(1),h.oc("ngIf",e.catalogo.value),h.Cb(7),h.oc("ngForOf",e.categorias)}}function nt(t,e){if(1&t&&(h.Wb(0,"div"),h.Wb(1,"div",50),h.Wb(2,"div",51),h.Wb(3,"h3"),h.Gc(4),h.Vb(),h.Wb(5,"a",52),h.Gc(6," https://platanitos.com/puma-nova-2-wn-s-negro-morado-171649 "),h.Vb(),h.Vb(),h.Wb(7,"div",53),h.Wb(8,"div",54),h.Gc(9,"P\xfablico/Privado"),h.Vb(),h.Vb(),h.Vb(),h.Wb(10,"fieldset",55),h.Wb(11,"legend"),h.Gc(12,"Im\xe1genes"),h.Vb(),h.Wb(13,"div"),h.Gc(14,"Img1 (edit) (View)"),h.Vb(),h.Wb(15,"div"),h.Gc(16,"Img2 (edit) (View) (portada)"),h.Vb(),h.Wb(17,"div"),h.Gc(18,"Img3 (edit) (View) "),h.Vb(),h.Wb(19,"div"),h.Rb(20,"input",56),h.Vb(),h.Vb(),h.Wb(21,"fieldset",55),h.Wb(22,"legend"),h.Gc(23,"Precio"),h.Vb(),h.Wb(24,"table",57),h.Wb(25,"tbody"),h.Wb(26,"tr"),h.Wb(27,"td",58),h.Gc(28,"Precio actual:"),h.Vb(),h.Wb(29,"td",59),h.Gc(30,"S/ 80.00"),h.Vb(),h.Vb(),h.Wb(31,"tr"),h.Wb(32,"td"),h.Wb(33,"del"),h.Gc(34,"Precio anterior"),h.Vb(),h.Gc(35,":"),h.Vb(),h.Wb(36,"td"),h.Gc(37,"S/ 90.00"),h.Vb(),h.Vb(),h.Vb(),h.Vb(),h.Vb(),h.Wb(38,"fieldset",55),h.Wb(39,"legend"),h.Gc(40,"Informaci\xf3n"),h.Vb(),h.Gc(41," Lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum Lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum "),h.Vb(),h.Wb(42,"fieldset",55),h.Wb(43,"legend"),h.Gc(44,"Caracter\xedsticas"),h.Vb(),h.Wb(45,"table",57),h.Wb(46,"tbody"),h.Wb(47,"tr"),h.Wb(48,"td",58),h.Wb(49,"i"),h.Gc(50,"Fabricante"),h.Vb(),h.Vb(),h.Wb(51,"td",59),h.Gc(52,"Insumos de Riego"),h.Vb(),h.Vb(),h.Wb(53,"tr"),h.Wb(54,"td"),h.Wb(55,"i"),h.Gc(56,"Marca"),h.Vb(),h.Vb(),h.Wb(57,"td"),h.Gc(58,"Insumos de Riego"),h.Vb(),h.Vb(),h.Wb(59,"tr"),h.Wb(60,"td"),h.Wb(61,"i"),h.Gc(62,"Modelo"),h.Vb(),h.Vb(),h.Wb(63,"td"),h.Gc(64,"63mm X 1/2"),h.Vb(),h.Vb(),h.Vb(),h.Vb(),h.Vb(),h.Wb(65,"fieldset",55),h.Gc(66," \xbfEs un producto nuevo? SI/NO "),h.Vb(),h.Wb(67,"fieldset",60),h.Wb(68,"legend"),h.Gc(69,"Youtube(Opcional)"),h.Vb(),h.Rb(70,"iframe",61),h.Vb(),h.Vb()),2&t){const t=h.ic(2);h.Cb(4),h.Ic(" ",t.productoForm.get("nombre").value," ")}}function ct(t,e){1&t&&(h.Wb(0,"div"),h.Gc(1," Stock de productos por local "),h.Vb())}function st(t,e){if(1&t){const t=h.Xb();h.Wb(0,"form",2),h.ec("ngSubmit",(function(){return h.wc(t),h.ic().save()})),h.Wb(1,"div",3),h.Wb(2,"mat-toolbar",4),h.Wb(3,"h2",5),h.Gc(4),h.Vb(),h.Wb(5,"button",6),h.Rb(6,"mat-icon",7),h.Vb(),h.Vb(),h.Wb(7,"mat-tab-group",8,9),h.ec("selectedTabChange",(function(e){return h.wc(t),h.ic().handleTabChange(e)})),h.Rb(9,"mat-tab",10),h.Rb(10,"mat-tab",11),h.Rb(11,"mat-tab",12),h.Vb(),h.Vb(),h.Wb(12,"mat-dialog-content",13),h.Ec(13,rt,55,17,"div",0),h.Ec(14,nt,71,1,"div",0),h.Ec(15,ct,2,0,"div",0),h.Vb(),h.Wb(16,"mat-dialog-actions",14),h.Wb(17,"button",15),h.Gc(18,"CERRAR"),h.Vb(),h.Wb(19,"button",16),h.Gc(20,"GUARDAR"),h.Vb(),h.Vb(),h.Vb()}if(2&t){const t=h.ic();h.oc("formGroup",t.productoForm),h.Cb(4),h.Hc(t.dialogTitle),h.Cb(2),h.oc("icIcon",t.icClose),h.Cb(1),h.oc("selectedIndex",t.activeTabIndex)("color","accent")("backgroundColor","primary"),h.Cb(6),h.oc("ngIf",0===t.activeTabIndex),h.Cb(1),h.oc("ngIf",1===t.activeTabIndex),h.Cb(1),h.oc("ngIf",2===t.activeTabIndex),h.Cb(4),h.oc("disabled",t.productoForm.invalid||t.submitted)}}let dt=(()=>{class t{constructor(t,e,o,a,n,s,l,b,m,p){this._data=t,this.matDialogRef=e,this._productoService=o,this._unidadService=a,this._categoriaService=n,this._catalogoService=s,this.snackBar=l,this._datainicial=b,this._utils=m,this._entidadService=p,this.monedas=this._datainicial.monedas,this.impuestos=this._datainicial.impuestos,this.unidadMedidas=[],this.categorias=[],this.catalogo=new i.e,this.searchResult={data:null,to:null,total:null},this.isLoadingSearch=!1,this.icClose=r.a,this.icSearch=c.a,this.icLocalOffer=u.a,this.icArrowDropDown=d.a,this.activeTabIndex=0,this.action=t.action,this.dialogTitle=t.dialogTitle,"edit"===this.action?this.show():this.loading=!1,this.settings=this._entidadService.settings,console.log("this.settings",this.settings),this.listaUnidades(),this.listaCategorias()}ngOnInit(){this.productoForm=this.createForm(),this.settings.preciounitario?this.productoForm.get("valorventa").setValidators(i.v.required):this.productoForm.get("costoventa").setValidators(i.v.required),"new"===this.action&&setTimeout(()=>{this.nombreElement.nativeElement.focus()},0),this.catalogo.valueChanges.pipe(Object(b.a)(300),Object(m.a)(()=>this.isLoadingSearch=!0),Object(p.a)(t=>{if(console.log("typeof data",typeof t),"string"==typeof t&&this.productoForm.get("codigosunat").setValue(null),"string"==typeof t&&t){console.log("get API CATALOGO");const e={page:1,pageSize:10,orderName:"nombre",orderSort:"asc"};return parseFloat(t)>0?e.likeCodigo=t:e.likeNombre=t,this._catalogoService.index(e).pipe(Object(f.a)(()=>this.isLoadingSearch=!1))}return this.isLoadingSearch=!1,[]})).subscribe(t=>{this.searchResult=t})}handleTabChange(t){this.activeTabIndex=t.index}listaUnidades(){this._unidadService.unidades().subscribe(t=>{this.unidadMedidas=t.data})}listaCategorias(){this._categoriaService.index().subscribe(t=>{this.categorias=t.data})}show(){this.loading=!0,this._productoService.show(this._data.idproducto,{conRecurso:"catalogo"}).subscribe(t=>{this.loading=!1,this.inicializarProducto(t.data),t.data.catalogo&&this.catalogo.setValue({codigo:t.data.catalogo.codigo,nombre:t.data.catalogo.nombre})})}inicializarProducto(t){this.productoForm.setValue({idproducto:t.idproducto,nombre:t.nombre,moneda:t.moneda,costoventa:t.costoventa,valorventa:t.valorventa,idimpuesto:t.idimpuesto,destacado:"1"===t.destacado,unidadmedida:t.unidadmedida,codigo:t.codigo,codigosunat:t.codigosunat,idcategoria:t.idcategoria,imgportada:t.imgportada})}createForm(){return new i.h({idproducto:new i.e(null),nombre:new i.e(null,[i.v.required]),codigo:new i.e(null,[i.v.required]),unidadmedida:new i.e(null,[i.v.required]),moneda:new i.e("PEN"),costoventa:new i.e(null),valorventa:new i.e(null),idimpuesto:new i.e(null,[i.v.required]),destacado:new i.e(!1),codigosunat:new i.e(null),idcategoria:new i.e(null),imgportada:new i.e(null)})}seleccionImage(t){if(!t)return void(this.imagenSubir=null);if(-1===t.type.indexOf("image"))return void(this.imagenSubir=null);this.imagenSubir=t;const e=new FileReader;e.readAsDataURL(t),e.onloadend=()=>this.imagenTemp=e.result,this.cambiarImagen()}cambiarImagen(){this._productoService.updateImg(this.productoForm.controls.idproducto.value,this.imagenSubir).then(t=>{}).catch(t=>{console.log(t)})}displaySearchCatalogo(t){return t?t.nombre:null}autocompletadoCatalogoSelected(t){t&&this.productoForm.get("codigosunat").setValue(t.codigo)}save(){let t;t=this.productoForm.getRawValue(),t.destacado=t.destacado?"1":"0","new"===this.action&&(this.submitted=!0,this._productoService.create(t).subscribe(t=>{this.submitted=!1,this.snackBar.open("\xcdtem registrado.","Cerrar"),this.matDialogRef.close(t.data)},t=>{const e=this._utils.convertError(t);this.submitted=!1,this.snackBar.open(e,"Cerrar",{panelClass:["error-dialog"]})})),this.submitted=!0,"edit"===this.action&&this._productoService.update(t.idproducto,t).subscribe(t=>{this.submitted=!1,this.snackBar.open("\xcdtem actualizado.","Cerrar"),this.matDialogRef.close(t.data)},t=>{const e=this._utils.convertError(t);this.submitted=!1,this.snackBar.open(e,"Cerrar",{panelClass:["error-dialog"]})})}}return t.\u0275fac=function(e){return new(e||t)(h.Qb(g.a),h.Qb(g.g),h.Qb(v.a),h.Qb(V.a),h.Qb(W.a),h.Qb(y),h.Qb(C.b),h.Qb(I.a),h.Qb(G.a),h.Qb(L.a))},t.\u0275cmp=h.Kb({type:t,selectors:[["vex-item-form"]],viewQuery:function(t,e){var o;1&t&&h.Nc(U,!0),2&t&&h.tc(o=h.fc())&&(e.nombreElement=o.first)},decls:2,vars:2,consts:[[4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],["mat-dialog-title","","fxLayout","column"],["color","primary","fxLayout","row","fxLayoutAlign","start center"],["fxFlex","auto",1,"headline","m-0"],["mat-dialog-close","","mat-icon-button","","type","button",1,"text-secondary"],[3,"icIcon"],["fxFlex","auto",3,"selectedIndex","color","backgroundColor","selectedTabChange"],["tabGroup",""],["label","GENERAL"],["label","TIENDA VIRTUAL"],["label","STOCK"],["fxLayout","column"],["align","end"],["mat-button","","mat-dialog-close","","type","button"],["color","primary","mat-raised-button","","type","submit",3,"disabled"],["fxLayout","row","fxLayout.lt-sm","column","fxLayoutGap","16px","fxLayoutGap.lt-sm","0"],["appearance","standard","floatLabel","always","fxFlex","auto"],["matInput","","formControlName","nombre","maxlength","200","required",""],["nombre",""],["formControlName","unidadmedida","required",""],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","codigo","maxlength","16","required",""],["appearance","standard","floatLabel","always","fxFlex","50"],["formControlName","idimpuesto","required",""],["fxLayout","row","fxLayoutGap","8px","fxFlex","50"],["appearance","standard","floatLabel","always","fxFlex","auto",1,"vex-flex-form-field"],["formControlName","moneda"],["fxFlex","70"],["appearance","standard","floatLabel","always","class","vex-flex-form-field","fxFlex","auto",4,"ngIf"],["matInput","",3,"matAutocomplete","formControl"],["autoActiveFirstOption","","panelWidth","530px",3,"displayWith","optionSelected"],["auto","matAutocomplete"],["class","p-3","value","",4,"ngIf"],["matSuffix","",3,"icIcon",4,"ngIf"],["matSuffix","",3,"icIcon","click",4,"ngIf"],["formControlName","idcategoria"],[3,"value"],["matInput","","type","number","formControlName","costoventa","required",""],["matInput","","type","number","formControlName","valorventa","required",""],["value","",1,"p-3"],["diameter","25"],["fxLayout","row"],[1,"p-3"],["fxLayout","column","fxLayoutAlign","center start"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","8px"],[1,"text-secondary"],["matSuffix","",3,"icIcon"],["matSuffix","",3,"icIcon","click"],["fxLayout","row","fxLayout.lt-sm","column","fxLayoutGap","8px","fxLayoutGap.lt-sm","0"],["fxFlex","80"],["href","https://platanitos.com/puma-nova-2-wn-s-negro-morado-171649","target","_blank"],["fxFlex","20"],[1,"b-1"],[1,"mt-4"],["type","file"],[1,"table-hover"],["width","25%"],["width","75%"],[1,"mt-4","mb-1"],["width","100%","height","315","src","https://www.youtube.com/embed/JitOuCe-IjQ","frameborder","0","allow","accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture","allowfullscreen",""]],template:function(t,e){1&t&&(h.Ec(0,X,1,0,"vex-loading",0),h.Ec(1,st,21,10,"form",1)),2&t&&(h.oc("ngIf",e.loading),h.Cb(1),h.oc("ngIf",!e.loading))},directives:[S.p,R.a,i.w,i.q,i.i,g.h,E.c,F.a,E.b,E.a,k.b,g.d,O.a,T.a,A.b,A.a,g.e,g.c,E.d,_.d,_.h,j.b,i.b,i.p,i.g,i.l,i.u,q.a,S.o,Q.c,i.f,Q.a,M.n,_.c,i.s,N.b,_.j],styles:["@media (min-width:600px){.item-form-dialog{width:100%}}@media (min-width:960px){.item-form-dialog{width:620px}}.item-form-dialog .mat-dialog-container{padding:0;margin:0}.item-form-dialog .mat-dialog-content{padding:0 16px;margin:0}.item-form-dialog .mat-dialog-actions{padding:16px 24px;margin:0}.item-form-dialog fieldset{border:1px solid #ccc;border-radius:8px;padding:8px}.item-form-dialog fieldset legend{font-weight:500;padding:0 8px}.item-form-dialog .table-hover{border-collapse:collapse;width:100%}.item-form-dialog .table-hover td{padding:6px 8px}.item-form-dialog .table-hover tr:nth-child(2n){background-color:#f5f5f5}.mat-autocomplete-panel .mat-option{line-height:18px;padding:6px 8px}"],encapsulation:2}),t})()},g8hX:function(t,e,o){"use strict";o.d(e,"a",(function(){return n}));var i=o("IRgW"),a=o("fXoL"),r=o("tk/3");let n=(()=>{class t extends i.a{constructor(t){super(),this.http=t}index(t){return this.getQuery("unidades",t)}unidades(t){return this.getQuery("unidades/unidad-medida/empresa",t)}}return t.\u0275fac=function(e){return new(e||t)(a.ac(r.b))},t.\u0275prov=a.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);